(self.webpackChunkshopchain_frontend=self.webpackChunkshopchain_frontend||[]).push([[501],{7297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8081),a=n.n(r),l=n(3645),c=n.n(l)()(a());c.push([e.id,"",""]);const o=c},3861:(e,t,n)=>{"use strict";var r,a,l,c,o=n(3935),i=n(2003),u=n.n(i),s=n(7294);!function(e){e.NOT_CREATED="0",e.CREATED="1",e.FILLED="2",e.CLOSED="3",e.CANCELLED="4"}(r||(r={})),function(e){e[e.NOT_LOADING=0]="NOT_LOADING",e[e.LOADING=1]="LOADING",e[e.LOADED_OK=2]="LOADED_OK",e[e.LOADED_ERROR=3]="LOADED_ERROR"}(a||(a={})),function(e){e[e.OK=0]="OK",e[e.UNBLOCKING=1]="UNBLOCKING",e[e.BLOCKING=2]="BLOCKING"}(l||(l={})),function(e){e.OK="OK",e.METAMASK_NOT_INSTALLED="METAMASK_NOT_INSTALLED",e.NOT_CONNECTED="NOT_CONNECTED",e.WRONG_CHAIN="WRONG_CHAIN",e.CONTRACT_NOT_LOADED="CONTRACT_NOT_LOADED",e.W3_ERROR="W3_ERROR"}(c||(c={}));var m=n(3283),d=n.n(m),f={info:{address:null,chain:null},waiting:{state:!1,start:function(){},stop:function(){}},provider_error:{severity:l.OK,name:c.OK,description:"Everything is nominal"},contract:null,connect:function(){}},y=(0,s.createContext)(f);const p=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"id","type":"string"}],"name":"ItemReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"id","type":"string"},{"indexed":false,"internalType":"address payable","name":"sellerAddress","type":"address"},{"indexed":false,"internalType":"address payable","name":"ownerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"unlockCode","type":"uint256"},{"indexed":false,"internalType":"enum SinglePayment.OrderState","name":"state","type":"uint8"}],"name":"OrderConfirmed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"id","type":"string"}],"name":"OrderCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"id","type":"string"}],"name":"OwnerRefunded","type":"event"},{"inputs":[{"internalType":"string","name":"id","type":"string"},{"internalType":"uint256","name":"_unlockCode","type":"uint256"}],"name":"confirmReceived","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getAmountToPay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getOrderById","outputs":[{"components":[{"internalType":"address payable","name":"sellerAddress","type":"address"},{"internalType":"address payable","name":"ownerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"unlockCode","type":"uint256"},{"internalType":"enum SinglePayment.OrderState","name":"state","type":"uint8"}],"internalType":"struct SinglePayment.Order","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOrderCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getOrderState","outputs":[{"internalType":"enum SinglePayment.OrderState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_buyerAddress","type":"address"}],"name":"getOrdersByBuyer","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"components":[{"internalType":"address payable","name":"sellerAddress","type":"address"},{"internalType":"address payable","name":"ownerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"unlockCode","type":"uint256"},{"internalType":"enum SinglePayment.OrderState","name":"state","type":"uint8"}],"internalType":"struct SinglePayment.Order","name":"order","type":"tuple"}],"internalType":"struct SinglePayment.OrderTuple[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sellerAddress","type":"address"}],"name":"getOrdersBySeller","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"components":[{"internalType":"address payable","name":"sellerAddress","type":"address"},{"internalType":"address payable","name":"ownerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"unlockCode","type":"uint256"},{"internalType":"enum SinglePayment.OrderState","name":"state","type":"uint8"}],"internalType":"struct SinglePayment.Order","name":"order","type":"tuple"}],"internalType":"struct SinglePayment.OrderTuple[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getOwnerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getSellerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"getUnlockCode","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_seller","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"string","name":"_orderId","type":"string"}],"name":"newOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"refundFromOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"id","type":"string"}],"name":"refundFromSeller","outputs":[],"stateMutability":"nonpayable","type":"function"}]');var h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c},E={severity:l.BLOCKING,name:c.METAMASK_NOT_INSTALLED,description:"please install metamask"},v={severity:l.BLOCKING,name:c.NOT_CONNECTED,description:"Connect Metamask"},b={severity:l.OK,name:c.OK,description:"Everything is nominal"},g={severity:l.BLOCKING,name:c.WRONG_CHAIN,description:"Connect to Fantom Test Net (0xfa2)"},w={severity:l.BLOCKING,name:c.W3_ERROR,description:"Error in the web3 library"},N={severity:l.BLOCKING,name:c.CONTRACT_NOT_LOADED,description:"Contract is not loaded"};const C=function(){return(0,s.useContext)(y).info.address};var T=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const O=function(e){var t=void 0===e?{}:e,n=t.onResult,r=t.onError,a=T((0,s.useState)(void 0),2),l=a[0],c=a[1],o=T((0,s.useState)(void 0),2),i=o[0],u=o[1],m=T((0,s.useState)(void 0),2),d=m[0],f=m[1];return(0,s.useEffect)((function(){void 0===l&&void 0===d||f(!0)}),[i,l]),{loaded:d,error:l,result:i,startLoading:function(){return f(!1)},setResult:function(e){u(e),n&&n(e)},setError:function(e){c(e),r&&r(e)}}};var L=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function c(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,o)}i((r=r.apply(e,t||[])).next())}))},M=function(e,t){var n,r,a,l,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,r=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){c.label=l[1];break}if(6===l[0]&&c.label<a[1]){c.label=a[1],a=l;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(l);break}a[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}};const S=function(){var e=(0,s.useContext)(y).contract,t=C(),n=(0,s.useCallback)((function(n){var r=n.seller,a=n.amount,l=n.id;return L(void 0,void 0,void 0,(function(){var n;return M(this,(function(c){switch(c.label){case 0:if(!e)throw new Error("Contract Not Initiated");c.label=1;case 1:return c.trys.push([1,3,,7]),[4,e.methods.newOrder(r,a,l).send({from:t,value:a})];case 2:return c.sent(),[3,7];case 3:return(n=c.sent()).code&&-32602===n.code?[4,e.methods.newOrder(r,a,l).send({from:t,value:a,type:"0x1"})]:[3,5];case 4:return c.sent(),[3,6];case 5:throw n;case 6:return[3,7];case 7:return[2]}}))}))}),[e]),r=(0,s.useCallback)((function(n,r){return L(void 0,void 0,void 0,(function(){var a;return M(this,(function(l){switch(l.label){case 0:if(!e)throw new Error("Contract Not Initiated");l.label=1;case 1:return l.trys.push([1,3,,7]),[4,e.methods.confirmReceived(n,r).send({from:t})];case 2:return l.sent(),[3,7];case 3:return(a=l.sent()).code&&-32602===a.code?[4,e.methods.confirmReceived(n,r).send({from:t,type:"0x1"})]:[3,5];case 4:return l.sent(),[3,6];case 5:throw a;case 6:return[3,7];case 7:return[2]}}))}))}),[e]),a=(0,s.useCallback)((function(n){return L(void 0,void 0,void 0,(function(){var r;return M(this,(function(a){switch(a.label){case 0:if(!e)throw new Error("Contract Not Initiated");a.label=1;case 1:return a.trys.push([1,3,,7]),[4,e.methods.refundFromOwner(n).send({from:t})];case 2:return a.sent(),[3,7];case 3:return(r=a.sent()).code&&-32602===r.code?[4,e.methods.refundFromOwner(n).send({from:t,type:"0x1"})]:[3,5];case 4:return a.sent(),[3,6];case 5:throw r;case 6:return[3,7];case 7:return[2]}}))}))}),[e]),l=(0,s.useCallback)((function(){return L(void 0,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:if(!e)throw new Error("Contract Not Initiated");return[4,e.methods.contractBalance().call()];case 1:return[2,t.sent()]}}))}))}),[e]),c=(0,s.useCallback)((function(){return L(void 0,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:if(!e)throw new Error("Contract Not Initiated");return[4,e.methods.getOrderCount().call()];case 1:return[2,t.sent()]}}))}))}),[e]);return[e,{create:n,unlock:r,refund:a,getContractBalance:l,getOrderCount:c}]};const x=function(e){var t=O(),n=t.loaded,a=t.error,l=t.result,c=t.setError,o=t.setResult,i=t.startLoading,u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}(S(),1)[0];return(0,s.useEffect)((function(){u&&void 0!==e&&(i(),u.methods.getOrderById(e).call().then((function(e){return o(e.state!==r.NOT_CREATED?e:null)})).catch((function(e){return c(e)})))}),[u]),{order:l,loaded:n,error:a}};const k=function(e){var t=O(),n=t.error,r=t.loaded,a=t.result,l=t.setError,c=t.setResult,o=t.startLoading,i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}(S(),1)[0];return(0,s.useEffect)((function(){i&&void 0!==e&&(o(),void 0!==e.seller?i.methods.getOrdersBySeller(e.seller).call().then((function(e){return c(e)})).catch((function(e){return l(e)})):void 0!==e.buyer&&i.methods.getOrdersByBuyer(e.buyer).call().then((function(e){return c(e)})).catch((function(e){return l(e)})))}),[i,null==e?void 0:e.seller,null==e?void 0:e.buyer]),{orders:a,error:n,loaded:r}},A=function(){var e=(0,s.useContext)(y).waiting;return[e.state,{start:e.start,stop:e.stop}]},D=function(e){var t=e.address;return s.createElement("span",{className:"addr"},s.createElement("span",{className:"addr-hex"},t))};var _,I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},I.apply(this,arguments)},R=function(e){var t=e.children,n=e.className,r=e.viewBox,a=e.width,l=e.height,c=e.fill;return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:void 0!==n?n:"",viewBox:void 0!==r?r:"0 0 24 24",width:void 0!==a?a:"24",height:void 0!==l?l:"24",fill:void 0!==c?c:""},t)},B=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}))},z=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}))},F=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.39.08-.75.21-1.1.36l1.51 1.51c.32-.08.69-.13 1.09-.13zM5.47 3.92L4.06 5.33 7.5 8.77c0 2.08 1.56 3.22 3.91 3.91l3.51 3.51c-.34.49-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.83-.55 2.46-1.12l2.22 2.22 1.41-1.41L5.47 3.92z"}))},V=function(e){return s.createElement(R,I({},e),s.createElement("g",{fill:"none"},s.createElement("path",{d:"M0 0h24v24H0V0z"}),s.createElement("path",{d:"M0 0h24v24H0V0z",opacity:".87"})),s.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}))},H=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}))},U=function(e){return s.createElement(R,I({viewBox:"0 0 100 100",width:"150",height:"150"},e),s.createElement("g",{transform:"rotate(0 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(30 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(60 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(90 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(120 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(150 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(180 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(210 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(240 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(270 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(300 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),s.createElement("g",{transform:"rotate(330 50 50)"},s.createElement("rect",{x:"47",y:"24",width:"4",height:"14",fill:"#bbb"},s.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))))},K=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}))},P=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))},G=function(e){return s.createElement(R,I({},e),s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))},W=function(e){return s.createElement(R,I({},e,{viewBox:"0 0 32 32"}),s.createElement("defs",{xmlns:"http://www.w3.org/2000/svg"},s.createElement("mask",{id:"mask",x:"10",y:"6",width:"93.1",height:"20",maskUnits:"userSpaceOnUse"},s.createElement("g",{id:"a"},s.createElement("path",{className:"cls-1",d:"M10,6h93.1V26H10Z"})))),s.createElement("g",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_2","data-name":"Layer 2"},s.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},s.createElement("circle",{fill:"#13b5ec",cx:"16",cy:"16",r:"16"}),s.createElement("g",null,s.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z"})))))},Z=function(e){return s.createElement(R,I({},e,{height:"48",width:"48",viewBox:"0 -64 640 640"}),s.createElement("path",{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}))},q=function(e){return s.createElement(R,I({},e,{height:"48",width:"48",viewBox:"0 0 490.766 490.766"}),s.createElement("path",{d:"M472.554,319.199c-9.4-0.7-28.8,9.8-34.1,12.5c-18.9,9.5-45.2,24.4-62.5,36.3c-1.2,0.8-2.8,1.9-4,2.7\n\t\tc-7.8,5-16,8.3-25.1,10.3c-50.2,10.7-123.3,11.8-123.3,11.8l-4.3,0.2c-3.2,0.2-6.1-2.1-6.5-5.2c-0.5-3.4,2-6.6,5.6-6.9l108.7-10.3\n\t\tc12-1.3,21.5-12.5,20.2-25.1s-12.9-21.8-24.9-20.5l-96.7-1.2c-6.6-0.1-17.1-1.7-23.4-3.6c-62.3-18.2-97.5-1.2-116.2,6.8\n\t\tc-4.2-6.9-12.1-11.4-20.9-10.8l-41.7,2.8c-13.9,0.9-24.3,12.5-23.4,25.9l6.7,92.6c1,13.4,13,23.5,26.9,22.5l41.7-2.8\n\t\tc8.8-0.6,16-6,19.1-13.4l183.2,7.9c20.4,2.2,39.5-0.3,57.5-9.7l5.2-2.7l138.5-81c6.8-4,11.6-10.9,11.9-18.5\n\t\tC491.054,330.499,485.754,320.199,472.554,319.199z M48.954,438.099c-7.8,0-14.2-6.1-14.2-13.7s6.4-13.7,14.2-13.7\n\t\ts14.2,6.1,14.2,13.7S56.754,438.099,48.954,438.099z M369.554,351.099c0.2-2.5,0.2-5.1-0.1-7.7c-0.3-3.3-1.1-6.4-2.1-9.4\n\t\tc0.1-0.2,0.2-0.4,0.2-0.6c14.6-8,43.2-21.8,58.8-27.9c7.8-3.1,15.5-2.9,22.6,1.9c-5.6,2-10.8,4.5-15.7,6.9\n\t\tc-16.4,8.2-45.3,23.9-59.4,33.8C372.454,349.099,370.954,350.099,369.554,351.099z M411.354,296.199c-11.3,5-33,12.6-43.3,18.3\n\t\tl-7,3.8c-0.7,0.4-1.3,0.8-1.9,1.3c-3.1-3.7-6.8-6.8-10.9-9.3c9.6-5.1,31-12,40.7-15.8\n\t\tC396.754,291.399,404.254,291.599,411.354,296.199z M256.054,64.599c-29.7,0-53.7,24.1-53.7,53.7s24.1,53.7,53.7,53.7\n\t\tc29.7,0,53.7-24.1,53.7-53.7S285.754,64.599,256.054,64.599z M271.454,139.499c-2.3,2.8-5.4,4.8-9,5.7c-1.6,0.4-2.2,1.2-2.2,2.9\n\t\tc0.1,1.6,0,3.2,0,4.8c0,1.4-0.7,2.2-2.1,2.2c-1.7,0-3.4,0-5.1,0c-1.5,0-2.2-0.9-2.2-2.3c0-1.2,0-2.3,0-3.5c0-2.6-0.1-2.7-2.6-3.1\n\t\tc-3.1-0.5-6.2-1.2-9.1-2.6c-2.3-1.1-2.5-1.7-1.8-4c0.5-1.8,1-3.5,1.5-5.3c0.6-2,1.2-2.3,3-1.3c3.2,1.7,6.6,2.6,10.1,3\n\t\tc2.3,0.3,4.5,0.1,6.6-0.9c3.9-1.7,4.6-6.3,1.2-9.1c-1.1-0.9-2.4-1.6-3.8-2.2c-3.5-1.5-7.1-2.7-10.3-4.6c-5.3-3.2-8.7-7.5-8.3-14\n\t\tc0.4-7.3,4.6-11.9,11.3-14.3c2.8-1,2.8-1,2.8-3.9c0-1,0-2,0-2.9c0.1-2.2,0.4-2.5,2.6-2.6c0.7,0,1.3,0,2,0c4.6,0,4.6,0,4.6,4.6\n\t\tc0,3.3,0,3.3,3.3,3.8c2.5,0.4,4.9,1.1,7.2,2.1c1.3,0.6,1.8,1.4,1.4,2.8c-0.6,2-1.1,4-1.8,6c-0.6,1.9-1.2,2.1-3,1.3\n\t\tc-3.6-1.7-7.4-2.5-11.4-2.3c-1,0.1-2.1,0.2-3,0.6c-3.4,1.5-4,5.3-1.1,7.6c1.5,1.2,3.2,2,4.9,2.8c3,1.3,6.1,2.5,9,4.1\n\t\tC275.554,120.099,277.954,131.599,271.454,139.499z M349.154,118.299c0,8.2-6.7,14.9-14.9,14.9c-8.2,0-14.9-6.7-14.9-14.9\n\t\ts6.7-14.9,14.9-14.9C342.454,103.399,349.154,110.099,349.154,118.299z M192.854,118.299c0,8.2-6.7,14.9-14.9,14.9\n\t\ts-14.9-6.7-14.9-14.9s6.7-14.9,14.9-14.9C186.154,103.399,192.854,110.099,192.854,118.299z M373.054,30.699h-234\n\t\tc-13.5,0-24.5,11-24.5,24.5v126.2c0,13.5,11,24.5,24.5,24.5h234c13.5,0,24.5-11,24.5-24.5v-126.2\n\t\tC397.554,41.699,386.554,30.699,373.054,30.699z M376.654,157.899c-2-0.5-4-0.8-6.1-0.8c-13.7,0-24.8,11.1-24.8,24.8\n\t\tc0,1,0.1,2.1,0.2,3.1h-181.7c0.3-1.5,0.4-3,0.4-4.6c0-13.7-11.1-24.8-24.8-24.8c-1.5,0-2.9,0.1-4.4,0.4v-75.4\n\t\tc1.4,0.3,2.9,0.4,4.4,0.4c13.7,0,24.8-11.1,24.8-24.8c0-1.6-0.1-3.1-0.4-4.6h182.2c-0.5,1.9-0.8,4-0.8,6.1\n\t\tc0,13.7,11.1,24.8,24.8,24.8c2.1,0,4.2-0.3,6.1-0.8v76.2H376.654z M114.954,232.999c0-5.8,4.7-10.5,10.5-10.5h261.7\n\t\tc5.8,0,10.5,4.7,10.5,10.5s-4.7,10.5-10.5,10.5h-261.8C119.654,243.499,114.954,238.799,114.954,232.999z M114.954,270.999\n\t\tc0-5.8,4.7-10.5,10.5-10.5h261.7c5.8,0,10.5,4.7,10.5,10.5s-4.7,10.5-10.5,10.5h-261.8\n\t\tC119.654,281.499,114.954,276.799,114.954,270.999z"}))},Y=n(3776),$=n.n(Y),j=function(e,t){return void 0===t&&(t=18),new($())(e).div(1e18).toFixed(t).replace(/0*$/,"").replace(/\.$/,"")},J=((_={})[r.NOT_CREATED]="Not Created",_[r.CREATED]="Created",_[r.FILLED]="Paid",_[r.CLOSED]="Unlocked",_[r.CANCELLED]="Refunded",_);const Q=function(e){var t=e.balance;return s.createElement("div",{className:"widget"},s.createElement("div",{className:"float-left widget-text"},s.createElement("h3",null,s.createElement("span",{className:"count"}," ",t?j(t,4):s.createElement(U,{width:"60",height:"60"})),s.createElement("span",{className:"currency"},"FTM")),s.createElement("p",null,"Contract Balance")),s.createElement("div",{className:"float-right widget-icon"},s.createElement(q,null)))},X=function(e){var t=e.onClick;return s.createElement("button",{className:"btn-connect",onClick:t},"Connect Metamask")};var ee=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const te=function(e){var t=e.value,n=e.setValue,r=e.id,a=e.placeholder,l=e.permissive,c=e.disabled,o=e.style,i=e.selectOnFocus,u=ee((0,s.useState)(t),2),m=u[0],d=u[1],f=ee((0,s.useState)(l&&!l.test(t)||!1),2),y=f[0],p=f[1];return(0,s.useEffect)((function(){return d(t)}),[t]),(0,s.useEffect)((function(){var e=void 0!==l&&!l.test(m)||!1;e||n(m),p(e)}),[m]),s.createElement("input",{style:o,type:"text",id:r,className:"clickable-input"+(y?" error":""),value:m,onChange:function(e){return d(e.target.value)},placeholder:a,disabled:c,onFocus:i?function(e){return e.target.select()}:void 0})};const ne=function(e){var t=e.severity,n=e.name,r=e.description,a=t===l.BLOCKING?" error":t===l.UNBLOCKING?" warning":" success",c=t===l.BLOCKING?s.createElement(P,null):t===l.UNBLOCKING?s.createElement(G,null):s.createElement(K,null),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}((0,s.useState)(!1),2),i=o[0],u=o[1],m=function(){return u(!i)};return s.createElement("span",{className:"provider-error"+a,onClick:m},c,s.createElement("div",{className:"error-overlay",onClick:m},s.createElement("span",null,n),s.createElement("p",null,r)))},re=function(){var e=(0,s.useContext)(y).provider_error,t=e.severity,n=e.name,r=e.description;return s.createElement(ne,{severity:t,name:n,description:r})};var ae=n(3727);const le=function(e){var t=e.address;return s.createElement("header",null,s.createElement(ae.rU,{to:"/"},"Shopchain"),s.createElement(re,null),t?s.createElement(de,null):s.createElement(ye,null))},ce=function(e){var t=e.count;return s.createElement("div",{className:"widget"},s.createElement("div",{className:"float-left widget-text"},s.createElement("h3",null,s.createElement("span",{className:"count"},t||s.createElement(U,{width:"60",height:"60"}))),s.createElement("p",null,"Orders")),s.createElement("div",{className:"float-right widget-icon"},s.createElement(Z,null)))},oe=function(e){var t=e.order,n=e.id,a=e.onUnlock,l=e.onRefund,c=(0,s.useMemo)((function(){return t.state===r.FILLED}),[t,n]),o=(0,s.useMemo)((function(){return t.state===r.FILLED}),[t,n]);return s.createElement(s.Fragment,null,s.createElement("section",{className:"transaction-details"},s.createElement("ul",null,s.createElement("li",null,s.createElement("div",{className:"section-head"},"Transaction ID:"),n),s.createElement("li",null,s.createElement("div",{className:"section-head"},"Order Owner:"),t.ownerAddress),s.createElement("li",null,s.createElement("div",{className:"section-head"},"Payed To:"),t.sellerAddress),s.createElement("li",null,s.createElement("div",{className:"section-head"},"Amount:"),j(t.amount)," FTM (",t.amount," wei)"),s.createElement("li",null,s.createElement("div",{className:"section-head"},"State:"),J[t.state]))),s.createElement("div",{className:"box-button"},s.createElement("button",{id:"unlock",onClick:a,disabled:!c},"Unlock"),s.createElement("button",{id:"refund",onClick:l,disabled:!o},"Refund")))},ie=function(e){var t=e.transaction,n=e.id,r=e.onCreate;return s.createElement(s.Fragment,null,s.createElement("section",{className:"transaction-details"},s.createElement("header",null,"Transaction Details"),s.createElement("p",null,"Please choose the payment type that you prefer.",s.createElement("br",null),"If you select “Pay Alone” you will redirect to checkout page and you will pay the entire order amount.",s.createElement("br",null),"If you select Money Box you are going to create an order that you can share with your friends, to confirm the payment you have to fill the entire amount that is request."),s.createElement("hr",null),s.createElement("ul",null,s.createElement("li",null,s.createElement("div",{className:"section-head"},"Transaction id:"),n),s.createElement("li",null,s.createElement("div",{className:"section-head"},"Transaction seller:"),t.seller),s.createElement("li",null,s.createElement("div",{className:"section-head"},"Amount to pay:"),j(Number(t.amount))," FTM (",t.amount," wei)"))),s.createElement("div",{className:"box-button center"},s.createElement("button",{onClick:r,className:"btn-payalone"},"Pay Alone"),s.createElement("button",{className:"btn-moneybox",disabled:!0},"Create Money Box")))},ue=function(e){var t=e.transactions,n=e.from;return s.createElement("ul",{className:"transaction-list"},t.map((function(e){return s.createElement(Oe,{from:n,key:e.id,transaction:e.order,id:e.id})})))},se=function(e){var t=e.transaction,n=e.id,a=e.onUnlock,l=e.from,c=(0,s.useMemo)((function(){return t.state===r.FILLED||t.state===r.CLOSED}),[t,n]),o=(0,s.useMemo)((function(){return t.state===r.CLOSED}),[t,n]),i=(0,s.useMemo)((function(){return t.state===r.CANCELLED}),[t,n]),u=(0,s.useMemo)((function(){return"seller"!==l&&t.state===r.CREATED}),[t,n]),m=((0,s.useMemo)((function(){return"seller"!==l&&t.state===r.FILLED}),[t,n]),(0,s.useMemo)((function(){return"seller"!==l&&t.state===r.FILLED}),[t,n]));return s.createElement("li",null,s.createElement("article",{className:"transaction"},s.createElement("header",null,s.createElement("span",{className:"transaction-id"},s.createElement(ae.rU,{to:"/transaction/out/"+n+"/",className:"btn-linkto"},n,s.createElement(B,null))),s.createElement("div",{className:"transaction-controls"},s.createElement("button",{className:"icon-btn btn-paid"+(c?" success":i?" error":" warning"),disabled:!u},c?s.createElement(z,null):s.createElement(F,null)),s.createElement("button",{className:"icon-btn btn-unlock"+(o?" success":" warning"),disabled:!m,onClick:a},o?s.createElement(H,null):s.createElement(V,null)))),s.createElement("div",{className:"content"},s.createElement("div",{className:"info-box"},s.createElement("span",{className:"transaction-label"},"buyer"===l?"Seller":"Buyer"),s.createElement("span",{className:"addr"},"buyer"===l?t.sellerAddress:t.ownerAddress)),s.createElement("div",{className:"info-box"},s.createElement("span",{className:"transaction-label"},"Amount"),t.state===r.CANCELLED?s.createElement("span",null,"REFUNDED"):s.createElement(s.Fragment,null),s.createElement("span",{className:"transaction-amount"},Math.floor(100*t.amount/1e18)/100," FTM")))))},me=function(e){var t=e.show;return s.createElement("div",{className:"overlay"+(t?"":" hidden")},t?s.createElement(s.Fragment,null,s.createElement("div",{className:"sweet-loading"},s.createElement("p",null,"Check your Metamask extension. The payment process may take few seconds ..."),s.createElement(U,null))):s.createElement(s.Fragment,null))},de=function(){var e=C();return s.createElement(D,{address:e})};const fe=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}(S(),2),t=e[0],n=e[1].getContractBalance,r=O(),a=(r.error,r.loaded,r.result),l=r.startLoading,c=r.setResult,o=r.setError;return(0,s.useEffect)((function(){l(),n().then((function(e){return c(e)})).catch((function(e){return o(e)}))}),[t]),s.createElement(Q,{balance:a})},ye=function(){var e=(0,s.useContext)(y).connect;return s.createElement(X,{onClick:e})},pe=function(){var e=C();return s.createElement(le,{address:e||void 0})};const he=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}(S(),2),t=e[0],n=e[1].getOrderCount,r=O({onResult:function(e){console.log(e)},onError:function(e){return console.error(e)}}),a=(r.error,r.loaded,r.result),l=r.startLoading,c=r.setResult,o=r.setError;return(0,s.useEffect)((function(){l(),n().then((function(e){return c(e)})).catch((function(e){return o(e)}))}),[t]),s.createElement(ce,{count:a})};var Ee=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const ve=function(e){var t=e.id,n=e.order,r=Ee(S(),2)[1],a=r.unlock,l=r.refund,c=Ee(A(),2)[1],o=c.start,i=c.stop;return s.createElement(oe,{order:n,id:t,onUnlock:function(){o(),a(t,n.unlockCode).then((function(){})).catch((function(e){})).finally((function(){return i()}))},onRefund:function(){o(),l(t).then((function(){})).catch((function(e){})).finally((function(){return i()}))}})};var be=n(8587),ge=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const we=function(e){var t=e.id,n=(0,be.TH)().search,r={amount:(0,s.useMemo)((function(){return new URLSearchParams(n).get("amount")}),[n])||"0",seller:"0x7B44Fba1DB530C59DB6bbBF1FF886d4e49C07aE7"},a=ge((0,s.useState)(void 0),2),l=a[0],c=a[1],o=ge(S(),2)[1].create,i=ge(A(),2)[1],u=i.start,m=i.stop;return s.createElement(s.Fragment,null,l?s.createElement(be.l_,{to:l}):s.createElement(s.Fragment,null),s.createElement(ie,{transaction:r,id:t,onCreate:function(){u(),o({amount:r.amount,seller:r.seller,id:t}).then((function(){return c("/transaction/out/"+t+"/success/")})).catch((function(e){return console.error(e)})).finally((function(){return m()}))}}),";")},Ne=function(e){var t=e.children,n=e.loaded,r=e.error;return n?r?s.createElement("p",null,r.toString()):s.createElement(s.Fragment,null,t):s.createElement("div",{className:"sweet-loading"},s.createElement(U,null))},Ce=function(e){var t=e.from,n=e.state,r=C()||void 0,a=k({seller:"seller"==t?r:void 0,buyer:"buyer"==t?r:void 0}),l=a.orders,c=a.error,o=a.loaded,i=(0,s.useMemo)((function(){return null==l?void 0:l.filter((function(e){return void 0===n||e.order.state===n}))}),[l,n]);return void 0===i||i.length>0?s.createElement(Ne,{loaded:o,error:c},i?s.createElement(ue,{transactions:i,from:t}):s.createElement(s.Fragment,null)):s.createElement("p",{className:"user-msg"},"There are no transactions in this section. ",s.createElement("br",null),"You may try refresh the page or change your Metamask account.")};var Te=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const Oe=function(e){var t=e.transaction,n=e.id,r=e.from,a=Te(S(),2)[1].unlock,l=Te(A(),2)[1],c=l.start,o=l.stop;return s.createElement(se,{from:r,transaction:t,id:n,onUnlock:function(){c(),a(n,t.unlockCode).then((function(){})).catch((function(e){})).finally((function(){return o()}))}})};const Le=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c}(A(),1)[0];return s.createElement(me,{show:e})},Me=function(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"home-card"},s.createElement("div",{className:"button-box"},s.createElement(ae.rU,{to:"/transaction/init/",className:"home-button"},"Checkout Page")),s.createElement("p",null,"In shopchain until now"),s.createElement("div",{className:"widget-box"},s.createElement(he,null),s.createElement(fe,null)),s.createElement("div",{className:"button-box"},s.createElement(ae.rU,{to:"/transaction/out/",className:"home-button"},"Your Transactions"),s.createElement(ae.rU,{to:"/transaction/in/",className:"home-button"},"Inbound Transactions"))))};var Se=n(4586),xe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return c};const ke=function(){var e=xe((0,s.useState)(""),2),t=e[0],n=e[1],r=xe((0,s.useState)((0,Se.Z)()),2),a=r[0],l=r[1],c=xe((0,s.useState)(void 0),2),o=c[0],i=c[1],u=(0,s.useMemo)((function(){return/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i.test(t)?new($())(t):new($())(0)}),[t]),m=(0,s.useMemo)((function(){return function(e){return e.mul(1e18).toNumber()}(u)}),[u]);return s.createElement("form",{className:"payment-form"},o?s.createElement(be.l_,{to:o}):s.createElement(s.Fragment,null),s.createElement("div",{className:"form-wrapper"},s.createElement("label",null,"Id"),s.createElement(te,{value:a,setValue:l,placeholder:"0000-000000-000000000000000",disabled:!0})),s.createElement("div",{className:"form-wrapper"},s.createElement("label",null,"Amount"),s.createElement("div",{className:"ftm-input"},s.createElement("input",{type:"number",className:"clickable-input",value:t||void 0,onChange:function(e){return n(e.target.value)},placeholder:"0.00"}),s.createElement("span",{className:"ftm-icon"},s.createElement(W,null),"FTM")),s.createElement("div",{className:"ftm-wei"},s.createElement("span",null,"(",m,") wei"))),s.createElement("div",{className:"btn-block"},s.createElement("input",{type:"submit",value:"Send",onClick:function(e){e.preventDefault();var t=new URLSearchParams;return t.set("amount",String(m)),i("/transaction/init/"+a+"/?"+t),!1}})))},Ae=function(){var e=(0,be.UO)().id;if(!e)return s.createElement(be.l_,{to:"/transaction/init/"});var t=x(e),n=t.order,r=t.loaded,a=t.error;return s.createElement(Ne,{loaded:r,error:a},n?s.createElement(be.l_,{to:"/transaction/out/"+e+"/"}):s.createElement(we,{id:e}))},De=function(){return s.createElement(s.Fragment,null,s.createElement("h1",null,"Inbound transactions"),s.createElement(Ce,{from:"seller"}))},_e=function(){return s.createElement(s.Fragment,null,s.createElement("h1",null,"Your Locked Transactions"),s.createElement(Ce,{from:"buyer",state:r.FILLED}),s.createElement("h1",null,"Your Unlocked Transactions"),s.createElement(Ce,{from:"buyer",state:r.CLOSED}))},Ie=function(){return s.createElement(s.Fragment,null,s.createElement("h1",null,"Transaction Completed Successfully"),s.createElement("p",{className:"redirect"},s.createElement("h2",null,"Remember to release the money when you have received your package"),s.createElement(ae.rU,{to:"/transaction/out/"},"See  here")))},Re=function(){var e=(0,be.UO)().id;if(!e)return s.createElement(be.l_,{to:"/transaction/out/"});var t=x(e),n=t.order,r=t.loaded,a=t.error;return s.createElement(s.Fragment,null,s.createElement("div",{className:"simple-link"},s.createElement(ae.rU,{to:"/transaction/out/"},"Go back to your transactions")),s.createElement(Ne,{loaded:r,error:a},n?s.createElement(ve,{id:e,order:n}):s.createElement(be.l_,{to:"/transaction/init/"+e+"/"})))};var Be=n(3379),ze=n.n(Be),Fe=n(7795),Ve=n.n(Fe),He=n(569),Ue=n.n(He),Ke=n(3565),Pe=n.n(Ke),Ge=n(9216),We=n.n(Ge),Ze=n(4589),qe=n.n(Ze),Ye=n(7297),$e={};$e.styleTagTransform=qe(),$e.setAttributes=Pe(),$e.insert=Ue().bind(null,"head"),$e.domAPI=Ve(),$e.insertStyleElement=We(),ze()(Ye.Z,$e),Ye.Z&&Ye.Z.locals&&Ye.Z.locals,(0,o.render)(s.createElement((function(e){var t=e.children,n=h((0,s.useState)(null),2),r=n[0],a=n[1],l=h((0,s.useState)(null),2),c=l[0],o=l[1],i=h((0,s.useState)(null),2),m=i[0],f=i[1],C=h((0,s.useState)(!1),2),T=C[0],O=C[1],L=(0,s.useMemo)((function(){return m?new(d())(m):null}),[m]),M=(0,s.useMemo)((function(){return L?new L.eth.Contract(p,"0x21461fFe79adb0606456c6214B5569Ba0f40f4B3"):null}),[L]),S=(0,s.useMemo)((function(){return m?L?M?r?c&&"0xfa2"===c?b:g:v:N:w:E}),[r,c]);function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.length>0&&e[0]!==r&&a(e[0][0])}function k(){m&&m.request({method:"eth_requestAccounts"}).then(x).catch((function(e){4001===e.code?console.log("Please connect to MetaMask."):console.error(e)}))}(0,s.useEffect)((function(){u()().then((function(e){e&&e!==window.ethereum?console.error("Conflicting Multiple Wallet installed"):f(e)})).catch((function(e){return console.error(e)}))}),[]),(0,s.useEffect)((function(){return m?(m.request({method:"eth_accounts"}).then(x).catch((function(e){console.error(e)})),m.request({method:"eth_chainId"}).then((function(e){return o(e)})).catch((function(e){console.error(e)})),m.on("accountsChanged",x),m.on("chainChanged",(function(){return window.location.reload()})),function(){return m.removeAllListeners()}):function(){}}),[m]);var A=(0,s.useMemo)((function(){return{address:r,chain:c}}),[r,c]),D=(0,s.useMemo)((function(){return{info:A,waiting:{state:T,start:function(){return O(!0)},stop:function(){return O(!1)}},contract:M,provider_error:S,connect:k}}),[A,M,S,k]);return s.createElement(y.Provider,{value:D},t)}),null,s.createElement((function(){return s.createElement(ae.UT,null,s.createElement(pe,null),s.createElement(Le,null),s.createElement(be.rs,null,s.createElement(be.AW,{path:"/transaction/init/:id/"},s.createElement(Ae,null)),s.createElement(be.AW,{path:"/transaction/init/"},s.createElement(ke,null)),s.createElement(be.AW,{path:"/transaction/out/:id/success/"},s.createElement(Ie,null)),s.createElement(be.AW,{path:"/transaction/out/:id/"},s.createElement(Re,null)),s.createElement(be.AW,{path:"/transaction/out/"},s.createElement(_e,null)),s.createElement(be.AW,{path:"/transaction/in/"},s.createElement(De,null)),s.createElement(be.AW,{path:"/"},s.createElement(Me,null))))}),null)),document.getElementById("root"))},6601:()=>{},9214:()=>{},1922:()=>{},2363:()=>{},6622:()=>{},7790:()=>{},8285:()=>{},2361:()=>{},4616:()=>{},6567:()=>{},9098:()=>{},8185:()=>{},7531:()=>{}},e=>{e.O(0,[435],(()=>(3861,e(e.s=3861)))),e.O()}]);